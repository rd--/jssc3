<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<link rel="icon" type="image/png" href="png/os.512.png" />
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css" />
		<script src="lib/commonmark.js/dist/commonmark.js"></script>
		<link rel="stylesheet" type="text/css" media="all" href="css/sc3.css" />
		<link rel="stylesheet" type="text/css" media="all" href="css/sc3-superscript.css" />
		<script src="lib/osc.js/dist/osc-browser.js"></script>
		<script type="module">
import * as sc from './dist/jssc3.js'
import { sc3_superscript_init } from './js/superscript.js'
globalThis.sc = sc;
globalThis.playUgen = (ugenGraph) => sc.scsynthEnsure(globalScsynth, () => sc.playUgen(globalScsynth, ugenGraph, 1));
globalThis.evalRegion = () => eval(sc.get_selected_text_or_contents_of('programText'));
globalThis.insertMarkdown = function(text) {
	var reader = new commonmark.Parser();
	var writer = new commonmark.HtmlRenderer();
	document.getElementById('documentText').innerHTML = writer.render(reader.parse(text));
};
window.onload = function () {
	sc.sc3_wasm_init(sc.setStatusDisplay);
	sc.load_utf8_and_then('help/essay/superscript.md', insertMarkdown);
};
		</script>
	</head>
	<body>
		<h1>SuperScipt</h1>
		<div id="menuContainer">
			<button title="Begin" accesskey="b" onclick="globalScsynth.boot()">Begin</button>
			<span id="statusText">...</span>
			<button title="Play (,)" accesskey="," onclick="playUgen(evalRegion())">Play</button>
			<button title="Reset (.)" accesskey="." onclick="sc.resetScsynth(globalScsynth)">Reset</button>
			<button title="Print" onclick="sc.prettyPrintSyndefOf(evalRegion())">Print</button>
		</div>
		<div id="documentContainer">
			<div id="documentText" contenteditable="true" spellcheck="false"></div>
		</div>
		<script async src="lib/scsynth-wasm-builds/ext/scsynth.js"></script>
	</body>
</html>
