<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<link rel="icon" type="image/png" href="png/os.512.png" />
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/aaaakshat/cm-web-fonts@latest/fonts.css" />
		<link rel="stylesheet" type="text/css" media="all" href="css/smallhours.css" />
		<link rel="stylesheet" type="text/css" media="all" href="css/smallkansas.css" />
		<script src="lib/commonmark.js/dist/commonmark.js"></script>
		<script src="lib/osc.js/dist/osc-browser.js"></script>
		<script type="module">
import * as sc from './dist/jssc3.js'
import * as sl from './lib/spl/dist/sl.js'
globalThis.sc = sc;
globalThis.sl = sl;
sl.addLoadUrlMethods();
/*
window.addEventListener('beforeunload', function (e) {
    e.preventDefault();
    e.returnValue = '';
});
window.document.addEventListener('visibilitychange', function() {
	console.log('visibilitychange', document.visibilityState);
});
*/
window.onload = function () {
	sc.sc3_wasm_init();
	sc.sc3_mouse_init(globalScSynth);
	sl.assignGlobals();
	sl.setLoadPath('lib/spl/sl');
	sl.loadUrl('*Load*', 'Meta/PackageIndex.sl').then(function() {
		sl.primitiveLoadPackageSequence([
			'Kernel',
			'StandardLibrary',
			'SuperColliderLibrary',
			'SmallKansasLibrary'
		]);
	});
};
		</script>
	</head>
	<body>
		<div class="SmallKansas" id="smallKansas"></div>
		<script async src="lib/scsynth-wasm-builds/ext/scsynth.js"></script>
	</body>
</html>
